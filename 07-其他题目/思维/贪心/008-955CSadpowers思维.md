

## 955C. Sad powers(思维)


##### 题目链接：[传送门](https://codeforces.com/contest/955/problem/C)


思路：对于1到n的满足$a b = x a^b=x$的数$x x$（幂次$b b$>1）。

我们可以将之分为两种，一种是$b = 2 b=2$，另一种$b > 2 b>2$且不是完全平方数的个数。

对于第一种情况($b = = 2 b==2$)，即我们计算完全平方数的个数，这部我们可以二分$O ( l o g n ) O(logn)$

对于第二种情况($b > 2 b>2$)，因为$b = 3 b=3$时这样数最多只有$1 0 18 / 3 = 1 0 6 10^{18/3}=10^6$种，$b > 3 b>3$的则更少，所以这种情况的数我们可以暴力预处理。

但是第二种情况可能有重复计算，我们去重即可。但是第一种情况和第二种情况可能也有重复计算，我们再筛去第二种情况的完全平方数。

这样我们计算$f ( n ) f(n)$即小于等于$n n$，满足

