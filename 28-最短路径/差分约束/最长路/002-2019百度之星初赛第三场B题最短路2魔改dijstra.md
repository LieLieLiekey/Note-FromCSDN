

## 百度之星初赛第三场B题-最短路2（魔改dijstra）


**题目：**

小 A 是社团里的工具人，有一天他的朋友给了他一个 $n n$ 个点，$m m$ 条边的正权连通无向图，要他计算所有点两两之间的最短路。

作为一个工具人，小 A 熟练掌握着 floyd 算法，设 $w [ i ] [ j ] ​ w[i][j]​$*为原图中$ (i,j)​$ 之间的权值最小的边的权值，若没有边则 $w [ i ] [ j ] = ​ w[i][j]=​$无穷大。特别地，若 $i = j ​ i=j​$，则 $w [ i ] [ j ] = 0 ​ w[i][j]=0​$

Floyd 的 C++ 实现如下：

```
for(int k=1;k<=p;k++)
for(int i=1;i<=n;i++)
for(int j=1;j<=n;j++)
    w[i][j]=min(w[i][j],w[i][k]+w[k][j]);
```


当$ p=n$时，该代码就是我们所熟知的 $f l o y d floyd$，然而小 A 为了让代码跑的更快点，所以想减少 $p p$ 的值。

令 $D i , j D_{i,j}$为最小的非负整数 $x x$,满足当$ p=x$时，点 $i i$与点 $j j$之间的最短路被正确计算了。

现在你需要求 $∑ i = 1 n ∑ j = 1 n D i , j \sum_{i=1}^{n}\sum_{j=1}^{n}D_{i,j}$

